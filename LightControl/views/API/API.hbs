
<script>
    $(function() {
        function toggleChevron(e) {
            $(e.target)
                    .prev('.panel-heading')
                    .find("i")
                    .toggleClass('fa-minus-circle');
        }
        $('#accordion').on('hidden.bs.collapse', toggleChevron);
        $('#accordion').on('shown.bs.collapse', toggleChevron);
    });
    
    function goBack() {
        window.history.back();
    }
</script>


<div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
    <div class="page-header">
        <a class="btn btn-info" onClick="goBack()"><i class="fa fa-arrow-circle-left"></i> Back </a> <br>
        <h1>API documentation for LightControl</h1>
    </div>
    <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
        <div class="panel panel-default">
            <div class="panel-heading" role="tab" id="headingOne">
                <h4 class="panel-title">
                    <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="false" aria-controls="collapseOne">
                            My House
                        <i class="fa fa-plus-circle pull-right"></i>
                    </a>
                </h4>
            </div>
            <div id="collapseOne" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo">
                <div class="panel-body">
                    <table class="table table-striped">
                        <tr>
                            <th valign="top"> Title </th>
                            <td>
                                <b>Get your own house from the database </b>
                                <p>
                                    <i>
                                        <ul>
                                            <li> Your Jason Web Token will be used to find your house. </li>
                                        </ul>
                                    </i>
                                </p>
                            </td>
                        </tr>

                        <tr>
                            <th valign="top">
                                URL
                            </th>
                            <td>
                                <b><code>/api/myhouse</code> </b>
                            </td>
                        </tr>

                        <tr>
                            <th valign="top">
                                Method
                            </th>
                            <td>
                                <b><code>GET</code></b>
                            </td>
                        </tr>

                        <tr>
                            <th valign="top">
                                Success Response
                            </th>
                            <td>
                                <b>Code:</b> 200 <br>
                                <b>Content:</b><br> <code> { <br>
                                "_id": MongoDB-Object-ID, <br>
                                "name": String, <br>
                                "owner": String, <br>
                                "__v": Number, <br>
                                "locations": Array, <br>
                                "items": Array <br>
                                }</code><br>
                            </td>
                        </tr>

                        <tr>
                            <th valign="top">
                                Error Response
                            </th>
                            <td>
                                <b>Code:</b> 404 NOT FOUND <br>
                                <b>Content:</b> <code> { Message : "Can\' find what you are looking for."}</code><br>
                            </td>
                        </tr>

                        <tr>
                            <th valign="top">
                                Sample Call
                            </th>
                            <td>
                        <pre>
$.ajax({
method: 'GET',
url: '/API/myHouse',
dataType: 'json',
success: function(response) {
    //do stuff

},
error: function(response) {
    //do stuff
},
beforeSend: function(xhr) {
    //we use JWT stored in localStorage for authentication.
    xhr.setRequestHeader('Authorization', window.localStorage.getItem('APItoken'));
}
});
                        </pre>
                            </td>
                        </tr>

                        <tr>
                            <th valign="top">
                                Notes
                            </th>
                            <td>
                                <span class="caption">This is where all uncertainties, commentary, discussion etc. can go. I recommend timestamping and identifying oneself when leaving comments here.</span> <br>
                            </td>
                        </tr>
                    </table></div>
            </div>
        </div>

        <div class="panel panel-default">
            <div class="panel-heading" role="tab" id="headingTwo">
                <h4 class="panel-title">
                    <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                        API template
                        <i class="fa fa-plus-circle pull-right"></i>
                    </a>
                </h4>
            </div>
            <div id="collapseTwo" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo">
                <div class="panel-body">
                    <!-- HERE IS WHERE TABLES GO -->
                    <table class="table table-striped">
                        <tr>
                            <th valign="top"> Title </th>
                            <td>
                                <span class="caption">The name of your API call</span> <br>
                                <b>Example : Show All Users </b>
                                <p>
                                    <i>
                                        <ul>
                                            <li> Note: try to use verbs that match both request type (fetching vs modifying) and plurality (one vs multiple.) </li>
                                            <li>Note: Also add additional info here such as a description, if need be.</li>
                                        </ul>
                                    </i>
                                </p>
                            </td>
                        </tr>

                        <tr>
                            <th valign="top">
                                URL
                            </th>
                            <td>
                                <span class="caption">The URL structure (path only, no root url)</span> <br>
                                <b><code>/users</code> or <code>/users/:id</code> or <code>/users?id=:id</code> </b>
                                <p>
                                    <i>
                                        <ol>
                                            <li>For fixed urls: /users or /photos</li>
                                            <li>For urls with parameters in them: /users/:id or /photos/:photo_id or /users?id=:id</li>
                                        </ol>
                                    </i>
                                </p>
                            </td>
                        </tr>

                        <tr>
                            <th valign="top">
                                Method
                            </th>
                            <td>
                                <span class="caption">The request type</span> <br>
                                <b><code>GET</code> | <code>POST</code> | <code>DELETE</code> | <code>PUT</code> </b>
                            </td>
                        </tr>

                        <tr>
                            <th valign="top">
                                URL Params
                            </th>
                            <td>
                                <span class="caption">If URL params exist, specify them in accordance with name mentioned in URL section. Separate into optional and required.</span> <br>
                                <br>
                                <b>Required:</b> <br>
                                <code>id=[integer]</code> <br>
                                example: id=12  <br><br>
                                <b>Optional</b> <br>
                                <code>photo_id=[alphanumeric]</code> <br>
                                example: photo_id=2345kj3
                            </td>
                        </tr>

                        <tr>
                            <th valign="top">
                                Data Params
                            </th>
                            <td>
                        <span class="caption">If making a post request, what should the body payload look like?
                           This is a good time to document your various data constraints too.</span> <br>
                                <b>Example:</b> <br>
                                <pre>
{
u : {
email : [string],
name : [string],
current_password : [alphanumeric]
password : [alphanumeric],
password_confirmation : [alphanumeric]
}
}
                        </pre>
                                <b> Example: </b>
                                <pre>
{
u : {
email : "john@smith.com",
name : "John",
current_password : "apassw0rd"
password : "anewpassw0rd",
password_confirmation : "anewpassw0rd"
}
}
                        </pre>
                            </td>
                        </tr>

                        <tr>
                            <th valign="top">
                                Success Response
                            </th>
                            <td>
                                <span class="caption">What should the status code be on success and is there any returned data? This is useful when people need to to know what their callbacks should expect!</span> <br>
                                <b> Example: </b> <br>
                                <b>Code:</b> 200 <br>
                                <b>Content:</b> <code> { id : 12 }</code><br>
                            </td>
                        </tr>

                        <tr>
                            <th valign="top">
                                Error Response
                            </th>
                            <td>
                                <span class="caption">Most endpoints will have many ways they can fail. From unauthorized access, to wrongful parameters etc. All of those should be listed here. It might seem repetitive, but it helps prevent assumptions from being made where they shouldn&#8217;t be.</span> <br>
                                <b> Example: </b> <br>
                                <b>Code:</b> 401 UNAUTHORIZED <br>
                                <b>Content:</b> <code> { error : "Log in" }</code><br>
                                OR<br>
                                <b>Code:</b> 422 Unprocessable Entry <br>
                                <b>Content:</b> <code> { error : "Email invalid" }</code><br>
                            </td>
                        </tr>

                        <tr>
                            <th valign="top">
                                Sample Call
                            </th>
                            <td>
                                <span class="caption">Just a sample call to your endpoint in a runnable format ($.ajax call or a curl request) &#8211; this makes life easier and more predictable.</span> <br>
                                <pre>
$.ajax({
url: "/users",
dataType: "json",
data : {
u: {
  id : 12,
  email : "john@smith.com"
}
},
type : "PUT",
success : function(r) {
console.log(r);
}
});
                        </pre>
                            </td>
                        </tr>

                        <tr>
                            <th valign="top">
                                Notes
                            </th>
                            <td>
                                <span class="caption">This is where all uncertainties, commentary, discussion etc. can go. I recommend timestamping and identifying oneself when leaving comments here.</span> <br>
                            </td>
                        </tr>
                    </table>
                    </div>
            </div>
        </div>

        <div class="panel panel-default">
            <div class="panel-heading" role="tab" id="headingThree">
                <h4 class="panel-title">
                    <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                        Sign up
                        <i class="fa fa-plus-circle pull-right"></i>
                    </a>
                </h4>
            </div>
            <div id="collapseThree" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingThree">
                <div class="panel-body">
                    <table class="table table-striped">
                        <tr>
                            <th valign="top"> Title </th>
                            <td>
                                <b>Sign up </b>
                                <p>
                                    <i>
                                        <ul>
                                            <li> Possible to sign up using local, Facebook & Google strategies. </li>
                                        </ul>
                                    </i>
                                </p>
                            </td>
                        </tr>

                        <tr>
                            <th valign="top">
                                URL
                            </th>
                            <td>
                                <b><code>/auth/signup</code> or <code>/auth/facebook</code> or <code>/auth/google</code> </b>
                                <p>
                                    <i>
                                        <ol>
                                            <li>Sign up with local strategy</li>
                                            <li>Sign up with Facebook strategy</li>
                                            <li>Sign up with Google strategy</li>
                                        </ol>
                                    </i>
                                </p>
                            </td>
                        </tr>

                        <tr>
                            <th valign="top">
                                Method
                            </th>
                            <td>
                                <span class="caption">The request type</span> <br>
                                <i>Facebook & Google</i> <b><code>GET</code></b> | <i>Local</i><b><code>POST</code></b>
                            </td>
                        </tr>

                        <tr>
                            <th valign="top">
                                Data Params
                            </th>
                            <td>
                        <span class="caption">Facebook & google strategies requires no payload in the body. <br> Local strategy requires 'email' & 'password'</span> <br>
                                <b>Example:</b> <br>
                                <pre>
{
email : [string],
password : [string]
}
                        </pre>
                                <b> Example: </b>
                                <pre>
{
email : "myemail@host.com",
password : "myS3cr3tP4ssw0rd"
}
                        </pre>
                            </td>
                        </tr>

                        <tr>
                            <th valign="top">
                                Success Response
                            </th>
                            <td>
                                <b>Code:</b> 200 <br>
                                <b>Action:</b> <code> Will redirect to 'loginRedirect' which stores </code><br>
                                <b>Content:</b> <code> { id : 12 }</code><br>
                            </td>
                        </tr>

                        <tr>
                            <th valign="top">
                                Error Response
                            </th>
                            <td>
                                <span class="caption">Most endpoints will have many ways they can fail. From unauthorized access, to wrongful parameters etc. All of those should be listed here. It might seem repetitive, but it helps prevent assumptions from being made where they shouldn&#8217;t be.</span> <br>
                                <b> Example: </b> <br>
                                <b>Code:</b> 401 UNAUTHORIZED <br>
                                <b>Content:</b> <code> { error : "Log in" }</code><br>
                                OR<br>
                                <b>Code:</b> 422 Unprocessable Entry <br>
                                <b>Content:</b> <code> { error : "Email invalid" }</code><br>
                            </td>
                        </tr>

                        <tr>
                            <th valign="top">
                                Sample Call
                            </th>
                            <td>
                                <span class="caption">Just a sample call to your endpoint in a runnable format ($.ajax call or a curl request) &#8211; this makes life easier and more predictable.</span> <br>
                                <pre>
$.ajax({
url: "/users",
dataType: "json",
data : {
u: {
  id : 12,
  email : "john@smith.com"
}
},
type : "PUT",
success : function(r) {
console.log(r);
}
});
                        </pre>
                            </td>
                        </tr>

                        <tr>
                            <th valign="top">
                                Notes
                            </th>
                            <td>
                                <span class="caption">This is where all uncertainties, commentary, discussion etc. can go. I recommend timestamping and identifying oneself when leaving comments here.</span> <br>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>

        <div class="panel panel-default">
            <div class="panel-heading" role="tab" id="headingFour">
                <h4 class="panel-title">
                    <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
                        Add room
                        <i class="fa fa-plus-circle pull-right"></i>
                    </a>
                </h4>
            </div>
            <div id="collapseFour" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingFour">
                <div class="panel-body">
                    <!-- HERE IS WHERE TABLES GO -->
                    <table class="table table-striped">
                        <tr>
                            <th valign="top"> Title </th>
                            <td>
                                <b>Add a room to your house. </b>
                            </td>
                        </tr>

                        <tr>
                            <th valign="top">
                                URL
                            </th>
                            <td>
                                <b><code>/API/addLocation</code></b>
                            </td>
                        </tr>

                        <tr>
                            <th valign="top">
                                Method
                            </th>
                            <td>
                                <span class="caption">The request type</span> <br>
                                <b><code>POST</code> </b>
                            </td>
                        </tr>

                        <tr>
                            <th valign="top">
                                Data Params
                            </th>
                            <td>
                                <b>Example:</b> <br>
                                <pre>
{
name : [string]
}
                        </pre>
                                <b> Example: </b>
                                <pre>
{
name : "kitchen"
}
                        </pre>
                            </td>
                        </tr>

                        <tr>
                            <th valign="top">
                                Success Response
                            </th>
                            <td>
                                <b>Code:</b> 200 <br>
                                <b>Content example:</b> <code> {
                                "_id": "584582a678cd030e58b3bbc4",
                                "name": "Kitchen",
                                "house": "584582a678cd030e58b3bbc3",
                                "items": [
                                "584582ca78cd030e58b3bbcb"
                                ],
                                "__v": 0
                                }</code><br>
                            </td>
                        </tr>

                        <tr>
                            <th valign="top">
                                Error Response
                            </th>
                            <td>
                                <span class="caption">Most endpoints will have many ways they can fail. From unauthorized access, to wrongful parameters etc. All of those should be listed here. It might seem repetitive, but it helps prevent assumptions from being made where they shouldn&#8217;t be.</span> <br>
                                <b> Example: </b> <br>
                                <b>Code:</b> 401 UNAUTHORIZED <br>
                                <b>Content:</b> <code> { error : "Log in" }</code><br>
                                OR<br>
                                <b>Code:</b> 422 Unprocessable Entry <br>
                                <b>Content:</b> <code> { error : "Email invalid" }</code><br>
                            </td>
                        </tr>

                        <tr>
                            <th valign="top">
                                Sample Call
                            </th>
                            <td>
                                <span class="caption">Just a sample call to your endpoint in a runnable format ($.ajax call or a curl request) &#8211; this makes life easier and more predictable.</span> <br>
                                <pre>
$.ajax({
    method: 'POST',
    url: '/API/addLocation',
    dataType: 'json',
    data: {newRoomName: newRoom},
    success: function(response) {
                            //stuff
                            },
    error: function(response) {
                            //stuff
    },
    beforeSend: function(xhr) {
        xhr.setRequestHeader('Authorization', window.localStorage.getItem('APItoken'));
    }
});
}

                        </pre>
                            </td>
                        </tr>

                        <tr>
                            <th valign="top">
                                Notes
                            </th>
                            <td>
                                <span class="caption">This is where all uncertainties, commentary, discussion etc. can go. I recommend timestamping and identifying oneself when leaving comments here.</span> <br>
                            </td>
                        </tr>
                    </table></div>
            </div>
        </div>

        <div class="panel panel-default">
            <div class="panel-heading" role="tab" id="headingFive">
                <h4 class="panel-title">
                    <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseFive" aria-expanded="false" aria-controls="collapseFive">
                        Collapsible Group Item #1
                        <i class="fa fa-plus-circle pull-right"></i>
                    </a>
                </h4>
            </div>
            <div id="collapseFive" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingFive">
                <div class="panel-body">
                    Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid. 3 wolf moon officia aute, non cupidatat skateboard dolor brunch. Food truck quinoa nesciunt laborum eiusmod. Brunch 3 wolf moon tempor, sunt aliqua put a bird on it squid single-origin coffee nulla assumenda shoreditch et. Nihil anim keffiyeh helvetica, craft beer labore wes anderson cred nesciunt sapiente ea proident. Ad vegan excepteur butcher vice lomo. Leggings occaecat craft beer farm-to-table, raw denim aesthetic synth nesciunt you probably haven't heard of them accusamus labore sustainable VHS.
                </div>
            </div>
        </div>

        <div class="panel panel-default">
            <div class="panel-heading" role="tab" id="headingSix">
                <h4 class="panel-title">
                    <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseSix" aria-expanded="false" aria-controls="collapseSix">
                        Collapsible Group Item #1
                        <i class="fa fa-plus-circle pull-right"></i>
                    </a>
                </h4>
            </div>
            <div id="collapseSix" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingSix">
                <div class="panel-body">
                    Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid. 3 wolf moon officia aute, non cupidatat skateboard dolor brunch. Food truck quinoa nesciunt laborum eiusmod. Brunch 3 wolf moon tempor, sunt aliqua put a bird on it squid single-origin coffee nulla assumenda shoreditch et. Nihil anim keffiyeh helvetica, craft beer labore wes anderson cred nesciunt sapiente ea proident. Ad vegan excepteur butcher vice lomo. Leggings occaecat craft beer farm-to-table, raw denim aesthetic synth nesciunt you probably haven't heard of them accusamus labore sustainable VHS.
                </div>
            </div>
        </div>

        <div class="panel panel-default">
            <div class="panel-heading" role="tab" id="headingSeven">
                <h4 class="panel-title">
                    <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseSeven" aria-expanded="false" aria-controls="collapseSeven">
                        Collapsible Group Item #1
                        <i class="fa fa-plus-circle pull-right"></i>
                    </a>
                </h4>
            </div>
            <div id="collapseSeven" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingSeven">
                <div class="panel-body">
                    Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid. 3 wolf moon officia aute, non cupidatat skateboard dolor brunch. Food truck quinoa nesciunt laborum eiusmod. Brunch 3 wolf moon tempor, sunt aliqua put a bird on it squid single-origin coffee nulla assumenda shoreditch et. Nihil anim keffiyeh helvetica, craft beer labore wes anderson cred nesciunt sapiente ea proident. Ad vegan excepteur butcher vice lomo. Leggings occaecat craft beer farm-to-table, raw denim aesthetic synth nesciunt you probably haven't heard of them accusamus labore sustainable VHS.
                </div>
            </div>
        </div>

    </div>
</div>






